<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">

    <title>Stats - My Site</title>

    <script type="module">
        document.documentElement.classList.remove('no-js');
        document.documentElement.classList.add('js');
    </script>

    <!-- <link rel="stylesheet" href="/assets/css/styles.css"> -->
    <!-- <link rel="stylesheet" href="/assets/css/print.css" media="print"> -->

    <!--
  <meta name="description" content="Page description">
  <meta property="og:title" content="Unique page title - My Site">
  <meta property="og:description" content="Page description">
  <meta property="og:image" content="https://www.mywebsite.com/image.jpg">
  <meta property="og:image:alt" content="Image description">
  <meta property="og:locale" content="en_GB">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:url" content="https://www.mywebsite.com/page">
  <link rel="canonical" href="https://www.mywebsite.com/page">

  <link rel="icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/my.webmanifest">
  <meta name="theme-color" content="#FF00FF">
  -->
</head>

<body>
    <h1>Ethereum Stats - {{ .Analysis.Date }}</h1>

    <p>{{ .Analysis.Date }} {{ .Analysis.Hour }}:{{ .Analysis.Minute }}:{{ .Analysis.Sec }}, duration: {{ .Analysis.DurationSec }}</p>

    <p>
    <ul>
        <li>Blocks {{ .Analysis.StartBlockNumber }} -> {{ .Analysis.EndBlockNumber }}</li>
        <li>Total blocks: {{ numberFormat .Analysis.NumBlocks 0 }} - without tx: {{ numberFormat .Analysis.NumBlocksWithoutTx 0 }} </li>
        <li>Total addresses: {{ numberFormat .Analysis.TotalAddresses 0 }}</li>
        <li>Value transferred: {{ .Analysis.ValueTotalEth }} ETH</li>
        <li>Total gas fee: {{ .Analysis.GasFeeTotalEth }} ETH (for failed tx: {{ .Analysis.GasFeeFailedTxEth }} ETH)</li>
    </ul>
    </p>

    <p>
    <h3>Transactions</h3>
    <ul>
        <li>Total: {{ numberFormat .Analysis.NumTransactions 0 }} </li>
        <li>Failed: {{ numberFormat .Analysis.NumTransactionsFailed 0 }}</li>
        <li>Zero value: {{ numberFormat .Analysis.NumTransactionsWithZeroValue 0 }}</li>
        <li>With data: {{ numberFormat .Analysis.NumTransactionsWithData 0 }}</li>
        <li>erc20 transfer: {{ numberFormat .Analysis.NumTransactionsErc20Transfer 0 }}</li>
        <li>erc721 transfer: {{ numberFormat .Analysis.NumTransactionsErc721Transfer 0 }}</li>
        <li>flashbots ok: {{ numberFormat .Analysis.NumFlashbotsTransactionsSuccess 0 }}</li>
        <li>flashbots failed: {{ numberFormat .Analysis.NumFlashbotsTransactionsFailed 0 }}</li>
    </ul>
    </p>

    <h2>Smart Contracts</h2>

    <h3>ERC20: most token transfers</h3>

    <table>
        <tr>
            <th>Address</th>
            <th>Name</th>
            <th># tx</th>
            <th># erc20 tx</th>
            <th># tokens transferred</th>
            <th>Symbol</th>
        </tr>

        {{- range topErc20 100 }}
        <tr>
            <td>{{ .Address }}</td>
            <td>{{ .Name }}</td>
            <td>{{ numberFormat .NumTxReceivedSuccess 0 }}</td>
            <td>{{ numberFormat .NumTxErc20Transfer 0 }}</td>
            <td>{{ numberFormat .TokensTransferredInUnit 2 }}</td>
            <td>{{ .Symbol }}</td>
        </tr>
        {{- end }}

    </table>
    <!-- <ul>
        {{- range topErc20 100 }}
        <li>{{ .Address }} {{ .Name }} {{ .Symbol }}, {{ numberFormat .NumTxErc20Transfer 0 }}</li>
        {{- end }}
    </ul> -->

    <h3>ERC721: most token transfers</h3>

    <table>
        <tr>
            <th>Address</th>
            <th>Name</th>
            <th>Symbol</th>
            <th># erc721 tx</th>
            <th># tx</th>
        </tr>

        {{- range topErc721 100 }}
        <tr>
            <td>{{ .Address }}</td>
            <td>{{ .Name }}</td>
            <td>{{ .Symbol }}</td>
            <td>{{ numberFormat .NumTxErc721Transfer 0 }}</td>
            <td>{{ numberFormat .NumTxReceivedSuccess 0 }}</td>
        </tr>
        {{- end }}

    </table>

</body>

</html>
